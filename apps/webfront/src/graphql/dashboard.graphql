fragment Content on Content {
	id
	isPublic
	seriesId
	resource
	preview
	thumbnail
	type
}

fragment DashboardFlicks on Flick {
	id
	name
	color
	description
	joinLink
	ownerId
	status
	thumbnail
	updatedAt
	owner {
		userSub
	}
	contents {
		...Content
	}
	theme {
		name
		config
	}
}

query GetDashboardUserFlicks(
	$sub: String!
	$limit: Int = 25
	$offset: Int = 0
) {
	Flick(
		where: {
			participants: { userSub: { _eq: $sub } }
			deletedAt: { _is_null: true }
		}
		order_by: { updatedAt: desc }
		limit: $limit
		offset: $offset
	) {
		...DashboardFlicks
	}
}
