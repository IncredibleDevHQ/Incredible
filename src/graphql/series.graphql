fragment BaseSeries on Series {
  id
  name
  description
  picture
  flickCount {
    count
  }
}

fragment Series on Series {
  ...BaseSeries
  organisationSlug
  ownerSub
}

fragment SingleSeries on Series {
  ...Series
  Flick_Series {
    flick {
      ...BaseFlick
    }
  }
}

fragment PublicSeries on Series {
  ...BaseSeries
  Flick_Series {
    flickId
    flick {
      ...BaseFlick
    }
  }
}

query GetSeries($organisationSlug: String!) {
  Series(where: { organisationSlug: { _eq: $organisationSlug } }) {
    ...Series
  }
}

query GetSingleSeries($id: uuid!) {
  Series_by_pk(id: $id) {
    ...SingleSeries
  }
}

query GetSeriesById($id: uuid!) {
  Series(where: { id: { _eq: $id } }) {
    ...PublicSeries
  }
}

query GetUserSeries($limit: Int) {
  Series(limit: $limit, order_by: { createdAt: desc }) {
    ...PublicSeries
  }
}

mutation CreateOrganisationSeries(
  $name: String!
  $organisationSlug: String!
  $picture: String!
  $description: String!
) {
  CreateSeries(
    name: $name
    organisationSlug: $organisationSlug
    picture: $picture
    description: $description
  ) {
    id
  }
}

mutation UpdateSeries(
  $seriesId: String!
  $name: String
  $description: String
  $picture: String
) {
  UpdateSeries(
    seriesId: $seriesId
    name: $name
    description: $description
    picture: $picture
  ) {
    id
  }
}

mutation CreateUserSeries(
  $name: String!
  $organisationSlug: String
  $description: String!
  $picture: String
) {
  CreateSeries(
    name: $name
    organisationSlug: $organisationSlug
    picture: $picture
    description: $description
  ) {
    id
  }
}
