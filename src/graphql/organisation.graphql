fragment Organisation on Organisation {
  slug
  members {
    ...Member
  }
}

query GetUserOrganisations($sub: String!) {
  Organisation(where: { members: { user: { sub: { _eq: $sub } } } }) {
    ...Organisation
  }
}

mutation CreateOrganisation($slug: String!) {
  CreateOrganisation(slug: $slug) {
    createdAt
    slug
  }
}

mutation AddMemberToOrganisation(
  $email: String!
  $organisationSlug: String!
  $role: MEMBER_ROLE_ENUM_ACTION_enum = Member
) {
  AddMemberToOrganisation(
    email: $email
    organisationSlug: $organisationSlug
    role: $role
  ) {
    id
  }
}
